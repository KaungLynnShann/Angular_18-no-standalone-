<div *ngIf="student" class="mx-auto max-w-lg py-8">
    <div class="border rounded-md p-4">

        <div class="flex justify-between">
            <fa-icon [icon]="faArrowLeft" (click)="goTo()" class="text-xl"></fa-icon>
            <fa-icon [icon]="pencil" class="text-blue-500 text-xl" (click) = "  toggleDialog()"></fa-icon>
        </div>
        
        <h2 class="text-center font-bold mb-4">{{ student.studentName }} Information</h2>
        <img [src]="localdomain + student.photo" alt="Student Photo" class="w-48 mx-auto mb-4">
        <div class="grid grid-cols-2 gap-4">
            <div class="border p-2">
                <p class="font-bold">Date: <span class="font-normal text-orange-500">{{ student.date }}</span></p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Student ID: <span class="font-normal text-orange-500">{{ student.studentId
                        }}</span></p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Name: <span class="font-normal text-orange-500">{{ student.studentName }}</span>
                </p>
            </div>
            <div class="border p-2">
                <p class="font-bold">NRC No: <span class="font-normal text-orange-500">{{ student.studentNrc }}</span>
                </p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Age: <span class="font-normal text-orange-500">{{ student.age }}</span></p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Date of Birth: <span class="font-normal text-orange-500">{{ student.dateOfBirth
                        }}</span></p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Father's Name: <span class="font-normal text-orange-500">{{ student.fatherName
                        }}</span></p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Gender: <span class="font-normal text-orange-500">{{ student.gender }}</span></p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Township: <span class="font-normal text-orange-500">{{ student.township }}</span>
                </p>
            </div>
            <div class="border p-2">
                <p class="font-bold">Address: <span class="font-normal text-orange-500">{{ student.address }}</span></p>
            </div>
        </div>
    </div>

    <!-- ----------------update dialog-------------------- -->
  <div *ngIf="showDialog" class="fixed inset-0 z-50 overflow-auto bg-gray-900 bg-opacity-50 flex justify-center items-center">
    <div class="bg-white p-6 rounded-lg">
        <h3 class="text-lg font-bold mb-4">Update Student Information</h3>
        <form>
            <div class="form-group mb-4">
              <label class="block text-sm font-medium text-gray-700">Date:</label>
              <input type="date" 
              id="date" 
              required
              [(ngModel)] = "student.date"
              name="date"
      
              class="mt-1 block  border
              border-gray-300 rounded-md shadow-sm 
              py-2 px-3 focus:outline-none
              focus:ring-indigo-500
              focus:border-indigo-500">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <div class="form-group mb-4">
                  <label class="block text-sm font-medium text-gray-700">Name:</label>
                  <input type="text" 
                  id="studentName" 
                  required
                  [(ngModel)] = "student.studentName"
                  name="name"
      
                  class="mt-1 block w-full border
                   border-gray-300 rounded-md shadow-sm py-2 px-3 
                   focus:outline-none
                    focus:ring-indigo-500
                    focus:border-indigo-500">
                </div>
                <div class="form-group mb-4">
                  <label class="block text-sm font-medium text-gray-700">Date of Birth:</label>
                  <input type="date" 
                  id="dateOfBirth" 
                  required
                  [(ngModel)] = student.dateOfBirth
                  name="BirthDay"
      
                  class="mt-1 block w-full border
                   border-gray-300 rounded-md shadow-sm py-2 px-3 
                   focus:outline-none focus:ring-indigo-500
                    focus:border-indigo-500">
                </div>
                <div class="form-group mb-4">
                  <label class="block text-sm font-medium text-gray-700">Father Name:</label>
                  <input type="text" 
                  id="fatherName"
                  required
                  [(ngModel)] = "student.fatherName"
                  name="Father Name"
      
                  class="mt-1 block w-full border
                   border-gray-300 rounded-md shadow-sm py-2 px-3 
                   focus:outline-none
                    focus:ring-indigo-500
                     focus:border-indigo-500">
                </div>
              </div>
              <div>
                <div class="form-group mb-4">
                  <label class="block text-sm font-medium text-gray-700">Nrc No:</label>
                  <input type="text" 
                  id="studentNrc" 
                  required
                  [(ngModel)] = "student.studentNrc"
                  name="Nrc NO"
      
                  class="mt-1 block w-full border
                   border-gray-300 rounded-md shadow-sm py-2 px-3 
                   focus:outline-none
                    focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="form-group mb-4">
                  <label class="block text-sm font-medium text-gray-700">Age:</label>
                  <input type="number" 
                  id="age" 
                  required
                  [(ngModel)] = "student.age"
                  name="age"
      
                  class="mt-1 block w-full border
                   border-gray-300 rounded-md shadow-sm py-2 px-3 
                   focus:outline-none
                    focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="form-group mb-4">
                  <label class="block text-sm font-medium text-gray-700">Township:</label>
                  <input type="text" 
                  id="township" 
                  required
                  [(ngModel)] = "student.township"
                  name="township"
      
                  class="mt-1 block w-full border
                   border-gray-300 rounded-md shadow-sm py-2 px-3 
                   focus:outline-none
                    focus:ring-indigo-500 focus:border-indigo-500">
                </div>
              </div>
            </div>
            <div class="form-group mb-4">
              <label class="block text-sm font-medium text-gray-700">Address:</label>
              <input type="text" 
                 id="address" 
                 required
                 [(ngModel)] = "student.address"
                 name="address"
      
              class="mt-1 block w-full border
               border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none
                focus:ring-indigo-500 focus:border-indigo-500">
            </div>
    
            <div class="form-group mb-4">
                <label class="block text-sm font-medium text-gray-700">Gender:</label>
                <div class="mt-2">
                  <label class="inline-flex items-center">
                    <input type="radio" 
                           name="gender" 
                           [(ngModel)]="selectedGender"
                           [value]="genderEnum.Male"
                           required
                           class="form-radio text-indigo-600">
                    <span class="ml-2">Male</span>
                  </label>
                  <label class="inline-flex items-center ml-6">
                    <input type="radio" 
                           name="gender" 
                           [(ngModel)]="selectedGender"
                           [value]="genderEnum.Female"
                           required 
                           class="form-radio text-indigo-600">
                    <span class="ml-2">Female</span>
                  </label>
                </div>
              </div>
    
              <div class="form-group mb-4">
                <label class="block text-sm font-medium text-gray-700">Photo:</label>
                <div class="flex items-center">
                  <input type="file" id="photo" class="mr-2" (change)="onFileSelected($event)">
                  <div *ngIf="imagePreviewUrl" class="preview">
                    <img [src]="imagePreviewUrl" alt="preview" class="w-24 h-24 object-cover">
                  </div>
                </div>
              </div>
        <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
          (click)="updateStudent()">Update</button>
        <button class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"
          (click)="showDialog = false">Cancel</button>
        </form>
    </div>
</div>

<div *ngIf="!student">
    <p class="text-center">No student details found.</p>
</div>